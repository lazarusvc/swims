@*
    WowDash - ASP.Net Core 8 & Bootstrap Admin Dashboard Multipurpose Template design by Parv Infotech
*@

@using Microsoft.AspNetCore.Identity
@using SWIMS.Models

@inject SignInManager<SwUser> SignInManager
@inject UserManager<SwUser> UserManager
@inject RoleManager<SwRole> RoleManager


<aside class="sidebar">
    <button type="button" class="sidebar-close-btn">
        <iconify-icon icon="radix-icons:cross-2"></iconify-icon>
    </button>
    <div>
        <a asp-area="" asp-controller="Home" asp-action="Index" class="sidebar-logo">
            <img src="~/WowDash/images/logo.png" alt="site logo" class="light-logo">
            <img src="~/WowDash/images/logo-light.png" alt="site logo" class="dark-logo">
            <img src="~/WowDash/images/logo-icon.png" alt="site logo" class="logo-icon">
        </a>
    </div>
    <div class="sidebar-menu-area">
        <ul class="sidebar-menu" id="sidebar-menu">

            <!-- DASHBOARD ----------------------------------------------------------- -->
            <li class="dropdown">
                <a href="javascript:void(0)">
                    <iconify-icon icon="solar:home-smile-angle-outline" class="menu-icon"></iconify-icon>
                    <span>Dashboard</span>
                </a>
                <ul class="sidebar-submenu">                    
                    <li>
                        <a asp-area="" asp-controller="Home" asp-action="Index">
                            <i class="ri-circle-fill circle-icon text-warning-main w-auto"></i> Home
                        </a>
                    </li>
                 

                </ul>
            </li>

            @if (SignInManager.IsSignedIn(User) && User.IsInRole("Admin"))
            {
                <!-- USERS ----------------------------------------------------------- -->
                <li class="dropdown">
                    <a href="javascript:void(0)">
                        <iconify-icon icon="flowbite:users-group-outline" class="menu-icon"></iconify-icon>
                        <span>Users</span>
                    </a>
                    <ul class="sidebar-submenu">
                        <li>
                            <a asp-area="" asp-controller="users" asp-action="Index"><i class="ri-circle-fill circle-icon text-primary-600 w-auto"></i> Users List</a>
                        </li>
                        <li>
                            <a asp-area="" asp-controller="users" asp-action="Create"><i class="ri-circle-fill circle-icon text-info-main w-auto"></i> Add User</a>
                        </li>

                    </ul>
                </li>

                <!-- ROLE & ACCESS ------------------------------------------------------ -->
                <li class="dropdown">
                    <a href="javascript:void(0)">
                        <i class="ri-user-settings-line text-xl me-6 d-flex w-auto"></i>
                        <span>Role & Access</span>
                    </a>
                    <ul class="sidebar-submenu">
                        <li>
                            <a asp-area="" asp-controller="roles" asp-action="Index"><i class="ri-circle-fill circle-icon text-primary-600 w-auto"></i> Roles</a>
                        </li>
                        <li>
                            <a asp-area="" asp-controller="roles" asp-action="Create"><i class="ri-circle-fill circle-icon text-warning-main w-auto"></i> Add Role</a>
                        </li>
                    </ul>
                </li>
                }

                <!-- PAGE ACCESS ----------------------------------------------------------- -->
                <li class="dropdown">
                    <a href="javascript:void(0)">
                        <i class="ri-user-settings-line text-xl me-6 d-flex w-auto"></i>
                        <span>Page Access</span>
                    </a>
                    <ul class="sidebar-submenu">
                    <li>
                        <a asp-area="Admin" asp-controller="AuthorizationPolicies" asp-action="Index"><iconify-icon icon="simple-line-icons:vector" class="menu-icon"></iconify-icon> Authorization Policies</a>
                    </li>

                    <li>
                        <a asp-area="Admin" asp-controller="RouteInspector" asp-action="Index"><i class="ri-compass-3-line me-2"></i> Route Inspector</a>
                    </li>

                    <li>
                        <a asp-area="Admin" asp-controller="PublicEndpoints" asp-action="Index"><i class="ri-global-line me-2"></i> Public Access</a>
                    </li>

                    <li>
                        <a asp-area="Admin" asp-controller="EndpointPolicies" asp-action="Index"><i class="ri-shield-keyhole-line me-2"></i> Endpoint Policies</a>
                    </li>
                </ul>

            <!-- PROCESSSES ----------------------------------------------------------- -->
            <li class="dropdown">
                <a href="javascript:void(0)">
                    <iconify-icon icon="simple-line-icons:vector" class="menu-icon"></iconify-icon>
                    <span>Processes</span>
                </a>
                <ul class="sidebar-submenu">
                    <li>
                        <a asp-controller="StoredProcesses" asp-action="Index"><i class="ri-circle-fill circle-icon text-primary-600 w-auto"></i> Run SPs</a>
                    </li>
                    <li>
                        <a asp-controller="StoredProcessesAdmin" asp-action="Index"><i class="ri-circle-fill circle-icon text-primary-600 w-auto"></i> SP Management</a>
                    </li>
                    <li>
                        <a asp-controller="StoredProcessParams" asp-action="Index"><i class="ri-circle-fill circle-icon text-primary-600 w-auto"></i> SP Parameters</a>
                    </li>
                </ul>
            </li>

            <!-- ADMINISTRATOR & SETTINGS ---------------------------------------------- -->
            <li class="dropdown">
                <a href="javascript:void(0)">
                    <iconify-icon icon="simple-line-icons:vector" class="menu-icon"></iconify-icon>
                    <span>Administration & Settings</span>
                </a>
                <ul class="sidebar-submenu">
                    <li><a asp-controller="identity" asp-action="Index"><i class="ri-circle-fill circle-icon text-primary-600 w-auto"></i>  Site Identity</a></li>
                    <li><a asp-controller="form" asp-action="Index"><i class="ri-circle-fill circle-icon text-primary-600 w-auto"></i> Form Management</a></li>
                    <li><a asp-controller="formTableData" asp-action="Index"><i class="ri-circle-fill circle-icon text-primary-600 w-auto"></i> Form Data</a></li>
                    <li><a asp-controller="formTableName" asp-action="Index"><i class="ri-circle-fill circle-icon text-primary-600 w-auto"></i> Form Data Name</a></li>
                    <li><a asp-controller="formTableData_Type" asp-action="Index"><i class="ri-circle-fill circle-icon text-primary-600 w-auto"></i> Form Data Types</a></li>
                    <li><a asp-controller="formProcess" asp-action="Index"><i class="ri-circle-fill circle-icon text-primary-600 w-auto"></i> Form Processes</a></li>
                    <li><a asp-controller="formReport" asp-action="Index"><i class="ri-circle-fill circle-icon text-primary-600 w-auto"></i> Form Reports</a></li>
                </ul>
            </li>

            <!-- AUTHENTICATION --------------------------------------------------------- -->
            <li class="dropdown">
                <a href="javascript:void(0)">
                    <iconify-icon icon="simple-line-icons:vector" class="menu-icon"></iconify-icon>
                    <span>Authentication</span>
                </a>
                <ul class="sidebar-submenu">
                    <li>
                        <a asp-area="Identity" asp-page="/Account/Login"><i class="ri-circle-fill circle-icon text-primary-600 w-auto"></i> Sign In</a>
                    </li>
                    <li>
                        <a asp-area="Identity" asp-page="/Account/Register"><i class="ri-circle-fill circle-icon text-warning-main w-auto"></i> Sign Up</a>
                    </li>
                    <li>
                        <a asp-area="Identity" asp-page="/Account/ForgotPassword"><i class="ri-circle-fill circle-icon text-info-main w-auto"></i> Forgot Password</a>
                    </li>
                </ul>
            </li>
            
            @if (SignInManager.IsSignedIn(User))
            {
                <li>
                    <a asp-area="Identity" asp-page="/Account/Manage/Index"><i class="ri-user-settings-line text-xl me-6 d-flex w-auto"></i> View Profile</a>
                </li>

                <li>
                    <a asp-area="Identity" asp-page="/Account/Logout">
                        <iconify-icon icon="lucide:power" class="menu-icon"></iconify-icon>
                        <span>Log Out</span>
                    </a>
                </li>
            }
            
        </ul>
    </div>
</aside>